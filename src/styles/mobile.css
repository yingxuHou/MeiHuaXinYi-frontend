/* 移动端适配样式 */

/* 基础移动端设置 */
@media (max-width: 768px) {
  /* 全局设置 */
  html {
    font-size: 14px;
  }
  
  body {
    -webkit-text-size-adjust: 100%;
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
  }

  /* 容器适配 */
  .container {
    padding: 0 16px;
    max-width: 100%;
  }

  /* 东方美学卡片适配 */
  .oriental-glass-card,
  .oriental-purple-card {
    margin: 8px;
    border-radius: 12px;
    backdrop-filter: blur(8px);
    padding: 16px;
  }

  /* 东方美学按钮适配 */
  .btn-oriental-primary,
  .btn-oriental-secondary {
    min-height: 44px;
    font-size: 16px;
    padding: 12px 20px;
    border-radius: 20px;
  }

  /* 传统按钮适配 */
  .btn-primary,
  .btn-secondary {
    min-height: 44px;
    font-size: 16px;
    padding: 12px 20px;
    border-radius: 12px;
  }

  /* 东方美学输入框适配 */
  .input-oriental,
  .textarea-oriental {
    min-height: 44px;
    font-size: 16px;
    padding: 12px 16px;
    border-radius: 12px;
  }

  /* 传统输入框适配 */
  .input-mystic {
    min-height: 44px;
    font-size: 16px;
    padding: 12px 16px;
    border-radius: 12px;
  }

  /* Element Plus 移动端适配 */
  .el-button {
    min-height: 44px !important;
    font-size: 16px !important;
    padding: 12px 20px !important;
  }

  .el-input__wrapper {
    min-height: 44px !important;
  }

  .el-input__inner {
    font-size: 16px !important;
    padding: 12px 16px !important;
  }

  /* 对话框适配 */
  .el-dialog {
    width: 90% !important;
    margin: 5vh auto !important;
    border-radius: 12px !important;
  }

  /* 消息提示适配 */
  .el-message {
    width: 90% !important;
    left: 5% !important;
    border-radius: 12px !important;
  }

  /* 导航栏适配 */
  .mobile-nav {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    height: 60px;
    background: rgba(15, 23, 42, 0.95);
    backdrop-filter: blur(20px);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    z-index: 1000;
    padding-bottom: env(safe-area-inset-bottom);
  }

  /* 页面内容适配 */
  .page-content {
    padding-bottom: calc(60px + env(safe-area-inset-bottom));
    min-height: 100vh;
  }

  /* 东方符号适配 */
  .oriental-symbol {
    font-size: 1.5rem !important;
  }

  .oriental-symbol.large {
    font-size: 2rem !important;
  }

  .oriental-symbol.small {
    font-size: 1.2rem !important;
  }

  /* 东方浮动元素适配 */
  .floating-element-oriental {
    animation-duration: 6s;
  }

  /* 东方特色卡片适配 */
  .oriental-feature-card,
  .oriental-recommend-card {
    margin-bottom: 16px;
    padding: 16px;
  }

  .oriental-feature-card:hover,
  .oriental-recommend-card:hover {
    transform: translateY(-2px) scale(1.01);
  }

  /* 传统特色卡片适配 */
  .feature-card {
    margin-bottom: 16px;
    padding: 16px;
  }

  .feature-card:hover {
    transform: translateY(-2px) scale(1.01);
  }

  /* 表单适配 */
  .form-container {
    padding: 20px 16px;
  }

  /* 标题适配 */
  h1 {
    font-size: 2rem;
    line-height: 1.2;
  }

  h2 {
    font-size: 1.5rem;
    line-height: 1.3;
  }

  h3 {
    font-size: 1.25rem;
    line-height: 1.4;
  }

  /* 间距适配 */
  .space-y-4 > * + * {
    margin-top: 16px;
  }

  .space-y-6 > * + * {
    margin-top: 24px;
  }

  /* 东方组件移动端适配 */
  .oriental-avatar {
    width: 48px !important;
    height: 48px !important;
  }

  .oriental-progress {
    height: 6px !important;
  }

  .oriental-hexagram-line {
    width: 50px !important;
    height: 3px !important;
    margin: 2px 0 !important;
  }

  .oriental-moon-icon {
    font-size: 0.9rem !important;
    top: -10px !important;
  }

  /* 网格适配 */
  .grid-cols-1 {
    grid-template-columns: 1fr;
  }

  .grid-cols-2 {
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
  }

  .grid-cols-3 {
    grid-template-columns: 1fr;
    gap: 16px;
  }
}

/* 小屏幕设备 (320px - 480px) */
@media (max-width: 480px) {
  html {
    font-size: 13px;
  }

  .container {
    padding: 0 12px;
  }

  .oriental-glass-card,
  .oriental-purple-card {
    margin: 6px;
    padding: 12px;
  }

  .glass-card {
    margin: 6px;
    padding: 16px;
  }

  .btn-oriental-primary,
  .btn-oriental-secondary {
    font-size: 15px;
    padding: 10px 16px;
    border-radius: 18px;
  }

  .btn-primary,
  .btn-secondary {
    font-size: 15px;
    padding: 10px 16px;
  }

  .oriental-feature-card,
  .oriental-recommend-card {
    padding: 12px;
  }

  .feature-card {
    padding: 12px;
  }

  /* 东方组件小屏幕适配 */
  .oriental-avatar {
    width: 40px !important;
    height: 40px !important;
  }

  .oriental-progress {
    height: 5px !important;
  }

  .oriental-hexagram-line {
    width: 40px !important;
    height: 2px !important;
  }

  .oriental-moon-icon {
    font-size: 0.8rem !important;
    top: -8px !important;
  }

  h1 {
    font-size: 1.75rem;
  }

  h2 {
    font-size: 1.375rem;
  }

  h3 {
    font-size: 1.125rem;
  }

  /* 对话框进一步适配 */
  .el-dialog {
    width: 95% !important;
    margin: 2vh auto !important;
  }

  /* 消息提示进一步适配 */
  .el-message {
    width: 95% !important;
    left: 2.5% !important;
    font-size: 14px !important;
  }
}

/* 横屏适配 */
@media (max-width: 768px) and (orientation: landscape) {
  .mobile-nav {
    height: 50px;
  }

  .page-content {
    padding-bottom: calc(50px + env(safe-area-inset-bottom));
  }

  .glass-card {
    margin: 4px;
    padding: 12px;
  }

  h1 {
    font-size: 1.5rem;
  }

  h2 {
    font-size: 1.25rem;
  }
}

/* 触摸优化 */
@media (hover: none) and (pointer: coarse) {
  /* 移除东方组件悬停效果，使用点击效果 */
  .oriental-feature-card:hover,
  .oriental-recommend-card:hover {
    transform: none;
  }

  .oriental-feature-card:active,
  .oriental-recommend-card:active {
    transform: scale(0.98);
    transition: transform 0.1s ease;
  }

  .btn-oriental-primary:hover,
  .btn-oriental-secondary:hover {
    transform: none;
  }

  .btn-oriental-primary:active,
  .btn-oriental-secondary:active {
    transform: scale(0.98);
    transition: transform 0.1s ease;
  }

  /* 移除传统组件悬停效果 */
  .feature-card:hover {
    transform: none;
  }

  .feature-card:active {
    transform: scale(0.98);
    transition: transform 0.1s ease;
  }

  .btn-primary:hover,
  .btn-secondary:hover {
    transform: none;
  }

  .btn-primary:active,
  .btn-secondary:active {
    transform: scale(0.98);
    transition: transform 0.1s ease;
  }

  /* 增大点击区域 */
  .clickable,
  .notification-icon,
  .settings-icon {
    min-height: 44px;
    min-width: 44px;
  }
}

/* 安全区域适配 */
@supports (padding: max(0px)) {
  .safe-area-inset-top {
    padding-top: max(20px, env(safe-area-inset-top));
  }

  .safe-area-inset-bottom {
    padding-bottom: max(20px, env(safe-area-inset-bottom));
  }

  .safe-area-inset-left {
    padding-left: max(16px, env(safe-area-inset-left));
  }

  .safe-area-inset-right {
    padding-right: max(16px, env(safe-area-inset-right));
  }
}

/* 滚动优化 */
.scroll-smooth {
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
}

/* 防止缩放 */
.no-zoom {
  touch-action: manipulation;
}

/* 隐藏滚动条但保持功能 */
.hide-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.hide-scrollbar::-webkit-scrollbar {
  display: none;
}

/* 移动端专用工具类 */
.mobile-only {
  display: none;
}

@media (max-width: 768px) {
  .mobile-only {
    display: block;
  }

  .desktop-only {
    display: none;
  }
}

/* 性能优化 */
.will-change-transform {
  will-change: transform;
}

.will-change-opacity {
  will-change: opacity;
}

/* 减少动画在低性能设备上的影响 */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
